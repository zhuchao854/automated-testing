from base.box_driver import BoxDriver,BoxBrowser
from zhongxinhua.page2.zxh_commad1 import ZXH_COMMAD_LIUCHENG
import traceback
from time import sleep
URL = 'https://test.zxhwork.com/#/login'
URL_SUESS = 'https://test.zxhwork.com/#/desktopAction.action'

import json
import pytest
import allure
import requests
import re

def send_requests(sessions,testdata):
    '''封装requests请求'''
    res = dict()
    # session = requests.session()
    try:
        requests.packages.urllib3.disable_warnings()
        r = sessions.request(method=testdata['method'],
                                 url=testdata['url'],
                                 params=testdata['params'],
                                 headers=testdata['headers'],
                                 data=testdata['body'],
                                 verify=False)

        res["statuscode"] = str(r.status_code)  # 状态码转成str
        res["text"] = r.content.decode("utf-8")
        res["times"] = str(r.elapsed.total_seconds())  # 接口请求时间转str

        return res
    except Exception as msg:
        raise msg

def login():
    session = requests.session()
    body = {
            "clientType": "pc",
            "imgCode": "",  # 测试环境登录验证码
            "isPhoneLogin": "no",
            "macAddress": "FE:FC:FE:DD:CE:84",  # 网卡地址
            "clearMacAddress": "FE:FC:FE:DD:CE:84",  # 网卡地址
            "monitorStatus": None,
            "password": 'c71dd40e8d1a0021ede76a9ee263d381',
            "isRememberPwd": 'true',
            "phoneVerifyCode": "",
            "userAccount": 'jlstest',
            "challengeForDebugger": ""}
    header = {'Content-Type':'application/json'}
    testdata = dict()
    testdata['url'] = 'https://test.zxhwork.com/login/v1/userLogin'
    testdata['method'] = 'post'
    testdata['body'] = json.dumps(body)
    testdata['headers'] = header
    testdata['params'] = None
    res = send_requests(session,testdata)
    return session


def aaee():
    session = login()
    list = ['https://test.zxhwork.com/#/component/roleManageAction!list.action', 'https://test.zxhwork.com/#/component/menu/MenuTreeFrame.jsp', 'https://test.zxhwork.com/#/component/informationManageAction!list.action', 'https://test.zxhwork.com/#/component/userDepartmentTreeAction!departmentInit.action', 'https://test.zxhwork.com/#/component/dictionaryAction!listDictionary.action', 'https://test.zxhwork.com/#/component/departmentInfoAction!departmentInit.action', 'https://test.zxhwork.com/#/component/userManageAction!modifyMyPasswordInit.action', 'https://test.zxhwork.com/#/config/ConfigAction!configInit.action', 'https://test.zxhwork.com/#/component/loginRecordAction!listRecord.action', 'https://test.zxhwork.com/#/component/RescManageAction!listResc.action', 'https://test.zxhwork.com/#/stock/stockDepositoryAction!getStockDepositoryList.action', 'https://test.zxhwork.com/#/component/userManageAction!modifyCurrUserInit.action', 'https://test.zxhwork.com/#/component/userManageAction!getUserInfoList.action', 'https://test.zxhwork.com/#/technicsprocess/basicTechnicsProcessAction!getBasicTechnicsProcessList.action', 'https://test.zxhwork.com/#/technicsprocess/technicsProcessTypeAction!selectTechnicsProcessTypeList.action', 'https://test.zxhwork.com/#/component/currencyTypeAction!getCurrencyTypeList.action', 'https://test.zxhwork.com/#/config/logAction!selectLogFileList.action', 'https://test.zxhwork.com/#/component/userManageAction!selectEmployeeList.action', 'https://test.zxhwork.com/#/consumer/customerComplaintsAction!selectCustomerComplaintsList.action', 'https://test.zxhwork.com/#/config/systemOperatLogAction!getSystemOperateLogList.action', 'https://test.zxhwork.com/#/component/userManageAction!selectValidateCodeList.action', 'https://test.zxhwork.com/#/web/orderFeeConfigAction!queryOrderFeeConfig.action', 'https://test.zxhwork.com/#/component/userManageAction!getSendPhoneMessageRecordList.action', 'https://test.zxhwork.com/#/component/userManageAction!onlineCustomerSendMessageInit.action', 'https://test.zxhwork.com/#/quote/ledProductStandardPriceAction!addPcbProductInit.action', 'https://test.zxhwork.com/#/quote/ledProductStandardPriceAction!addAnnexProductInit.action', 'https://test.zxhwork.com/#/quote/ledProductStandardPriceAction!getToReportProductList.action', 'https://test.zxhwork.com/#/quote/ledProductStandardPriceAction!getProductsToAddPrice.action', 'https://test.zxhwork.com/#/quote/ledProductStandardPriceAction!getReportedProductList.action', 'https://test.zxhwork.com/#/quote/ledProductStandardPriceAction!getCombinationList.action', 'https://test.zxhwork.com/#/quote/ledProductStandardPriceAction!getProductPriceList.action', 'https://test.zxhwork.com/#/notice/produceCodeStoreAction!getPubProduceCodeList.action', 'https://test.zxhwork.com/#/consumer/customerRecordAction!selectCustomerLiment.action', 'https://test.zxhwork.com/#/consumer/customerRecordAction!updateCustomerLiment.action', 'https://test.zxhwork.com/#/consumer/customerRecordAction!updateCustomerLiment.action', 'https://test.zxhwork.com/#/order/orderManageAction!getOrderListToAudit.action', 'https://test.zxhwork.com/#/order/orderManageAction!getPendingOrderList.action', 'https://test.zxhwork.com/#/order/orderManageAction!displayOrderList.action', 'https://test.zxhwork.com/#/order/orderManageAction!getCurrentUserOrders.action', 'https://test.zxhwork.com/#/outproduct/advancePaymentNoticeAction!getCustomerAdvancePaymentContractList.action', 'https://test.zxhwork.com/#/outproduct/ProductCashAction!getJustSubmittedCashList.action', 'https://test.zxhwork.com/#/outproduct/ProductCashAction!selectFinaceAchieveAudit.action', 'https://test.zxhwork.com/#/finance/customerAccountAction!selectCustomerAccountInfoBalance.action', 'https://test.zxhwork.com/#/outproduct/advancePaymentNoticeAction!getAdvancePaymentNoticeListToFinance.action', 'https://test.zxhwork.com/#/outproduct/ProductCashAction!getAuditedProductCashList.action', 'https://test.zxhwork.com/#/order/orderStatAction!getOrderStatListToFinance.action', 'https://test.zxhwork.com/#/finance/cashToFinanceAction!selectCashOutAndCheckFinance.action', 'https://test.zxhwork.com/#/outproduct/advancePaymentNoticeAction!getApprovedAdvancePaymentNoticeListToFinance.action', 'https://test.zxhwork.com/#/finance/salesCommissionViewAction!getSalesCommissionList.action', 'https://test.zxhwork.com/#/stock/stockStorageAction!getStockStorageListToExport.action', 'https://test.zxhwork.com/#/stock/stockOutStoreAction!getStockOutStoreListToExport.action', 'https://test.zxhwork.com/#/consumer/customerRecordAction!getRecordListToUpdateRate.action', 'https://test.zxhwork.com/#/stock/stockViewAction!selectStockStorageOutViewList.action', 'https://test.zxhwork.com/#/store/ledProductDepotAction!selectLedStorageOutTotalList.action', 'https://test.zxhwork.com/#/store/productDepotAction!selectPcbStorageOutTotalList.action', 'https://test.zxhwork.com/#/order/orderManageAction!getOrderList.action', 'https://test.zxhwork.com/#/finance/cashToFinanceAction!financeCarryAccomplishList.action', 'https://test.zxhwork.com/#/finance/customerAccountAction!selectCustomerWithdrawDepositList.action', 'https://test.zxhwork.com/#/finance/pcbInventoryPriceAction!selectPcbInventoryPricePage.action', 'https://test.zxhwork.com/#/outproduct/FillAndExchangeProductAction!addSampleCashInit.action', 'https://test.zxhwork.com/#/outproduct/FillAndExchangeProductAction!getSampleRecordList.action', 'https://test.zxhwork.com/#/outproduct/FillAndExchangeProductAction!getSampleRecordListToAudit.action', 'https://test.zxhwork.com/#/stock/stockApplyOrderAction!addStockApplyOrderInit.action', 'https://test.zxhwork.com/#/stock/stockApplyOrderAction!addStockApplyOrderInit.action', 'https://test.zxhwork.com/#/stock/stockApplyOrderAction!getApplyOrderListToAudit.action', 'https://test.zxhwork.com/#/stock/stockApplyOrderAction!getApplyOrderList.action', 'https://test.zxhwork.com/#/stock/stockOrderAction!getApplyOrderListToOrder.action', 'https://test.zxhwork.com/#/stock/stockOrderAction!getStockOrderList.action', 'https://test.zxhwork.com/#/stock/stockOrderAction!getStockOrderListToAudit.action', 'https://test.zxhwork.com/#/stock/stockOrderAction!getStockOrderListToUnAudit.action', 'https://test.zxhwork.com/#/stock/stockApplyOrderAction!getApplyOrderListToOwner.action', 'https://test.zxhwork.com/#/stock/stockSupplyAction!getStockSupplyListToAudit.action', 'https://test.zxhwork.com/#/stock/stockOrderAction!getStockOrderListToBossAudit.action', 'https://test.zxhwork.com/#/stock/stockOrderBackAction!getStockOrderListToBack.action', 'https://test.zxhwork.com/#/stock/stockOrderBackAction!getStockOrderBackList.action', 'https://test.zxhwork.com/#/stock/stockOrderBackAction!getStockOrderExchListToInstore.action', 'https://test.zxhwork.com/#/stock/stockOrderAction!addStockOrderInit.action', 'https://test.zxhwork.com/#/stock/stockApplyOrderAction!getStockApplyOrderDetailList.action', 'https://test.zxhwork.com/#/stock/stockOrderAction!selectStockOrderCheckViewList.action', 'https://test.zxhwork.com/#/stock/stockSupplyAction!getSuplyMaterielPriceList.action', 'https://test.zxhwork.com/#/stock/stockSupplyAction!selectProviderTechnologyBasicPriceList.action', 'https://test.zxhwork.com/#/stock/stockSupplyAction!getStockSupplyListToAuditForOfficer.action', 'https://test.zxhwork.com/#/stock/stockAccountInfoViewAction!getStockAccountInfoViewList.action', 'https://test.zxhwork.com/#/stock/stockAccountInfoViewAction!getStockAccountRecordConSum.action', 'https://test.zxhwork.com/#/stock/stockAccountInfoViewAction!getStockAccountRecordEquip.action', 'https://test.zxhwork.com/#/stock/stockAccountInfoViewAction!getPaymentApplyRecordListForStock.action', 'https://test.zxhwork.com/#/stock/stockApplyOrderAction!getMarketApplyOrderListToAudit.action', 'https://test.zxhwork.com/#/web/webCompanyDevelopAction!getWebCompanyDevelopList.action', 'https://test.zxhwork.com/#/web/webIndustryDevelopAction!getWebIndustryDevelopList.action', 'https://test.zxhwork.com/#/web/webProductCategoryAction!queryWebProductCategoryList.action', 'https://test.zxhwork.com/#/person/salesGroupAction!selectGroupList.action', 'https://test.zxhwork.com/#/web/webSalesmanContactAction!selectCustomerServiceLocal.action', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=wishText', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=introduce', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=phylogeny', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=longing', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=employ', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=repertory', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=application', 'https://test.zxhwork.com/#/web/answerQuestionAction!getAnswerQuestionList.action', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=orderInstruction', 'https://test.zxhwork.com/#/web/webCompanyDynamicAction!selectCompanyDynamicData.action%3FdynamicType=equipment', 'https://test.zxhwork.com/#/web/webCompanyDevelopAction!getCertificateList.action', 'https://test.zxhwork.com/#/web/webSearchAction!selectWebSearchList.action', 'https://test.zxhwork.com/#/web/visitAction!showVisitorList.action', 'https://test.zxhwork.com/#/web/webLoginAction!queryWebLoginInfo.action', 'https://test.zxhwork.com/#/web/webCompanyDevelopAction!getWebBannerList.action', 'https://test.zxhwork.com/#/web/webEquipmentManageAction!selectEquipmentList.action', 'https://test.zxhwork.com/#/stock/stockDepotAllocationAction!addStockDepotAllocationInit.action', 'https://test.zxhwork.com/#/stock/stockDepotAllocationAction!getStockDepotAllocationList.action', 'https://test.zxhwork.com/#/stock/stockDepotAllocationAction!getAllocationListToTargetDepart.action', 'https://test.zxhwork.com/#/stock/stockDepotAllocationAction!getAllocationListToWarehouse.action', 'https://test.zxhwork.com/#/stock/stockDepotAllocationAction!getAllocationListToStore.action', 'https://test.zxhwork.com/#/stock/stockDepotAllocationAction!getAllocationListToPrint.action', 'https://test.zxhwork.com/#/stock/allocationRecordBackAction!getAllocationRecordListToBack.action', 'https://test.zxhwork.com/#/stock/allocationRecordBackAction!getAllocationRecordBackList.action', 'https://test.zxhwork.com/#/stock/allocationRecordBackAction!getAllocationBackListToWareHouse.action', 'https://test.zxhwork.com/#/stock/stockDepotAllocationAction!getAllocationList.action', 'https://test.zxhwork.com/#/production/substratePickAction!getOrderNoticeListToProject.action', 'https://test.zxhwork.com/#/production/substratePickAction!getOrderNoticeListToPrePick.action', 'https://test.zxhwork.com/#/production/substratePickAction!getSubstratePickListToProject.action', 'https://test.zxhwork.com/#/production/substratePickAction!getSubstratePickListToWareHouse.action', 'https://test.zxhwork.com/#/production/substratePickAction!getSubstratePickList.action', 'https://test.zxhwork.com/#/production/substratePickAction!getSubstratePickListLeft.action', 'https://test.zxhwork.com/#/production/substratePickAction!orderNoticeListSchedule.action', 'https://test.zxhwork.com/#/production/substratePickAction!getNoticeListToProductionGuide.action', 'https://test.zxhwork.com/#/production/substratePickAction!getNoticeListToStartWip.action', 'https://test.zxhwork.com/#/technicsprocess/produceWipAction!wipscaninit.action', 'https://test.zxhwork.com/#/technicsprocess/produceWipAction!queryWipProgress.action', 'https://test.zxhwork.com/#/production/mrbAction!queryWipListToMRB.action', 'https://test.zxhwork.com/#/production/mrbAction!getMrbDetailsList.action', 'https://test.zxhwork.com/#/production/mrbAction!getMrbDetailsListToManager.action', 'https://test.zxhwork.com/#/production/MaterielAddApplicationAction!selectAddApplicationaList.action%3FeditType=all', 'https://test.zxhwork.com/#/production/MaterielAddApplicationAction!selectAddApplicationaList.action%3FeditType=audit', 'https://test.zxhwork.com/#/production/MaterielAddApplicationAction!selectAddApplicationaList.action%3FeditType=program', 'https://test.zxhwork.com/#/production/MaterielAddApplicationAction!selectAddApplicationaList.action%3FeditType=finance', 'https://test.zxhwork.com/#/production/MaterielAddApplicationAction!selectAddApplicationaList.action%3FeditType=produce_as_boss', 'https://test.zxhwork.com/#/production/mrbAction!getMrbDetailsListToBoss.action', 'https://test.zxhwork.com/#/stock/stockOutStoreAction!getStockBoardOutStoreList.action', 'https://test.zxhwork.com/#/production/substratePickAction!selectWIPSchedule.action', 'https://test.zxhwork.com/#/production/substratePickAction!waitOrderNoticeListToPrePick.action', 'https://test.zxhwork.com/#/technicsprocess/produceWipAction!selectPackerConfirmRecord.action', 'https://test.zxhwork.com/#/production/MaterielAddApplicationAction!selectAddApplicationaListForSalesman.action', 'https://test.zxhwork.com/#/production/substratePickAction!getOrderNoticeIsProduction.action', 'https://test.zxhwork.com/#/production/substratePickAction!AuditSubstratePickList.action', 'https://test.zxhwork.com/#/production/combineRecordAction!combineSubstratePickList.action', 'https://test.zxhwork.com/#/production/pcbAllocationAction!addPcbAllocationInit.action', 'https://test.zxhwork.com/#/production/pcbAllocationAction!addPcbAllocationInit.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectShouldReceiveMoneyList.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectStatShouldReceiveMoneyByDay.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectStatShouldReceiveMoneyByMonth.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectReceiveMoneyRecordCashList.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectReceiveMoneyRecordChequeList.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectReceiveMoneyRecordAcceptList.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectExpressCompareRecord.action', 'https://test.zxhwork.com/#/finance/customerCashExportAction!exportMonthMoneyRecordInit.action', 'https://test.zxhwork.com/#/consumer/customerRecordAction!queryLimitCustomerList.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectAllShouldReceiveMoneyExpress.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectAllStatShouldReceiveMoneyByMonth.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectAllStatShouldReceiveMoneyByDay.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectAcceptInfoRecordList.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectChequeInfoRecordList.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectAllStatShouldReceiveMoney.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectSelfStatShouldReceiveMoney.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectManagerStatShouldReceiveMoney.action', 'https://test.zxhwork.com/#/finance/financeCustomerFundAccountAction!selectCustomerRefundChangeRecord.action', 'https://test.zxhwork.com/#/finance/financeCustomerFundAccountAction!selectCustomerFundAccountPage.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectSalesmanDeductForSalary.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectSalesmanDeductForSalaryOnly.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectStatShouldReceiveMoneyByMonthForSalesman.action', 'https://test.zxhwork.com/#/finance/financeShouldReceiveMoneyRecordAction!selectStatShouldReceiveMoneyByDayForSalesman.action', 'https://test.zxhwork.com/#/finance/financeCustomerFundAccountAction!selectCustomerRechangeList.action', 'https://test.zxhwork.com/#/order/orderManageAction!auditCustomerOrderByMarketList.action', 'https://test.zxhwork.com/#/order/orderManageAction!selectMarketAuditNoPassRecord.action', 'https://test.zxhwork.com/#/order/orderManageAction!newOrderMarketauditStatistics.action', 'https://test.zxhwork.com/#/order/orderManageAction!selectExtraFeeStatistics.action', 'https://test.zxhwork.com/#/outsales/complainRecordAction!selectComplainRecordList.action', 'https://test.zxhwork.com/#/outsales/complainRecordAction!factoryQualityNewList.action', 'https://test.zxhwork.com/#/outsales/complainRecordAction!auditFactoryQualityRecordList.action', 'https://test.zxhwork.com/#/outsales/complainRecordAction!factoryQualityList.action', 'https://test.zxhwork.com/#/outsales/complainRecordAction!selectCustomerComplaintNumberList.action', 'https://test.zxhwork.com/#/outsales/complainTypeAction!queryComplainTypeList.action', 'https://test.zxhwork.com/#/outsales/complainRecordAction!customerComplainStatistics.action', 'https://test.zxhwork.com/#/consumer/labelDesignAction!selectLabelList.action', 'https://test.zxhwork.com/#/consumer/labelDesignAction!selectWaitPrintLabel.action', 'https://test.zxhwork.com/#/store/productDepotAction!getProduceStatisticsList.action', 'https://test.zxhwork.com/#/store/productDepotAction!getOrderStatisticsReportList.action', 'https://test.zxhwork.com/#/store/productDepotAction!substratePickOutDepotList.action', 'https://test.zxhwork.com/#/store/productDepotAction!selectProjectSingleStatistics.action', 'https://test.zxhwork.com/#/store/productDepotAction!statisticsCustomerMsg.action', 'https://test.zxhwork.com/#/store/productDepotAction!boardPickOutDepotList.action', 'https://test.zxhwork.com/#/store/productDepotAction!noShippedOrderAmountList.action', 'https://test.zxhwork.com/#/store/productDepotAction!processProductionStatisticsList.action', 'https://test.zxhwork.com/#/store/productDepotAction!statisticsOfProductionAmount.action', 'https://test.zxhwork.com/#/store/productDepotAction!getSalesStatisticsCharts.action', 'https://test.zxhwork.com/#/store/productDepotAction!selectOrderFinishOnTimeStatistics.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!getProduceProcessOutRecordList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!scanProcessOutForElectroplateInit.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!scanProcessOutForCopperInit.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!scanProcessOutForSurfaceInit.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!scanProcessOutForOSPInit.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!getProduceProcessOutMoneyRecordList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!getProduceProcessOutMoneyRecordListForProvider.action', 'https://test.zxhwork.com/#/production/screenManageAction!filmApplyRecordList.action', 'https://test.zxhwork.com/#/production/screenManageAction!filmApplyRecordSupplyList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectProcessOutMoneyCount.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectProcessOutAccountList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectProcessDeductList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectProcessDeductManagerList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectProcessDeductBossList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectConductingResinConfigList.action%3FprocessType=conduct_resin', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectSupplyProcessOutMoney.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!scanProcessOutForCharacterInit.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectCharacterMakeRecordList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectConductingResinConfigList.action%3FprocessType=electroplat_potion', 'https://test.zxhwork.com/#/production/pressJoinFeeRecordAction!selectPressJoinFeeRecordList.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!selectPressJoinOutMoneyCount.action', 'https://test.zxhwork.com/#/production/produceProcessOutRecordAction!scanProcessOutForPressJoinInit.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!testTypeList.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!mouldTypeList.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!supplyReportMoneyList.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!selectMouldTestList.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!engineeringAuditList.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!marketAuditList.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!supplyTogetherList.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!selectMouldTestAchieveList.action', 'https://test.zxhwork.com/#/production/moldTestOrderRecordAction!mouldTestScheduleTailAfterList.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!selectMoldTestPage.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!queryMaintenancePage.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!queryScrappedPage.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!queryTransferPage.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!moldTestRefundApplyList.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!selectCustomerMoldTest.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!moldTestRefundApplyPlanList.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!warehouseRetreatMoldestList.action', 'https://test.zxhwork.com/#/moldTest/moldTestAction!projectRefundRecordList.action', 'https://test.zxhwork.com/#/property/propertyRecordAction!propertyRecordList.action', 'https://test.zxhwork.com/#/property/propertyRecordAction!auditPropertyRecordList.action', 'https://test.zxhwork.com/#/property/propertyRecordAction!auditPropertyMaintainRecordList.action', 'https://test.zxhwork.com/#/property/propertyRecordAction!propertyMaintainRecordList.action', 'https://test.zxhwork.com/#/property/propertyRecordAction!showAllocateTransferList.action', 'https://test.zxhwork.com/#/property/propertyRecordAction!showPropertyCheckList.action', 'https://test.zxhwork.com/#/property/propertyRecordAction!selectOrooertyCheckTotal.action', 'https://test.zxhwork.com/#/person/personManageAction!personLabourCompanyList.action', 'https://test.zxhwork.com/#/person/personManageAction!personEmployeeList.action', 'https://test.zxhwork.com/#/person/personManageAction!auditPersonEmployeeList.action', 'https://test.zxhwork.com/#/person/personManageAction!positivePersonEmployeeList.action', 'https://test.zxhwork.com/#/person/personManageAction!personDepartmentList.action', 'https://test.zxhwork.com/#/person/personManageAction!auditPersonDepartmentList.action', 'https://test.zxhwork.com/#/person/personManageAction!personBonusPenaltyList.action', 'https://test.zxhwork.com/#/person/personManageAction!personHolidaysList.action', 'https://test.zxhwork.com/#/person/personManageAction!pieceWagesList.action', 'https://test.zxhwork.com/#/person/personManageAction!personWagesRecordList.action', 'https://test.zxhwork.com/#/person/personManageAction!personLeaveList.action', 'https://test.zxhwork.com/#/person/personManageAction!socialSecurityList.action', 'https://test.zxhwork.com/#/person/personManageAction!watchPieceWagesList.action', 'https://test.zxhwork.com/#/person/personManageAction!selectAdjustStipendList.action', 'https://test.zxhwork.com/#/person/personManageAction!selectLifeBonusList.action', 'https://test.zxhwork.com/#/person/personManageAction!selectProjectSalaryList.action', 'https://test.zxhwork.com/#/person/personManageAction!selectAdjustPositionList.action', 'https://test.zxhwork.com/#/person/personManageAction!exportExcelWageSetUp.action', 'https://test.zxhwork.com/#/sendMessage/sendWageAction!selectSendWageMessagePage.action', 'https://test.zxhwork.com/#/person/personManageAction!getWeiXinEmployeesList.action', 'https://test.zxhwork.com/#/person/personManageAction!selectSalesmanAffiliateList.action', 'https://test.zxhwork.com/#/person/personManageAction!qualityWagesStatistics.action', 'https://test.zxhwork.com/#/person/engineerSalaryConfigAction!queryEngineerSalaryConfigList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!selectFastenRentRecordList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!fastenLandList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!selectFastenHireList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!selectFastenShouldReceiptList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!selectFastenProceedsList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!cashProceedsList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!bankProceedsList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!acceptProceedsList.action', 'https://test.zxhwork.com/#/fasten/fastenManageAction!chequeProceedsList.action', 'https://test.zxhwork.com/#/exhibition/exhibitionAction!exhibitionRecordList.action', 'https://test.zxhwork.com/#/finance/cashToFinanceAction!backInvoiceApplyList.action', 'https://test.zxhwork.com/#/finance/cashToFinanceAction!selectOrderContractList.action', 'https://test.zxhwork.com/#/finance/cashToFinanceAction!selectInvoiceApplyList.action', 'https://test.zxhwork.com/#/finance/cashToFinanceAction!selectVatInvoiceList.action', 'https://test.zxhwork.com/#/finance/cashToFinanceAction!backInvoiceApplyListByMonthly.action', 'https://test.zxhwork.com/#/finance/cashToFinanceAction!selectInvoiceApplyListByMonthly.action', 'https://test.zxhwork.com/#/production/substratePickAction!getOrderNoticeListToEngineer.action', 'https://test.zxhwork.com/#/production/substratePickAction!getOrderNoticeListToFollow.action', 'https://test.zxhwork.com/#/production/substratePickAction!getCEBackOrderNoticeList.action', 'https://test.zxhwork.com/#/production/substratePickAction!selectDisplaceRecord.action', 'https://test.zxhwork.com/#/production/substratePickAction!miInformationList.action', 'https://test.zxhwork.com/#/notice/orderNoticeAction!selectProjectExecuteAllotRuleList.action', 'https://test.zxhwork.com/#/production/engineerDataModifyAction!selectModifyRecord.action', 'https://test.zxhwork.com/#/production/substratePickAction!selectAskCustomerRecord.action', 'https://test.zxhwork.com/#/production/substratePickAction!customerProjectRemarkList.action', 'https://test.zxhwork.com/#/production/combineRecordAction!selectCombineCodeRecordList.action', 'https://test.zxhwork.com/#/production/combineRecordAction!selectCombineCodeMiRecordList.action', 'https://test.zxhwork.com/#/production/substratePickAction!selectWaitABOrder.action', 'https://test.zxhwork.com/#/notice/vCutInfoRecordAction!selectVCutInfoList.action', 'https://test.zxhwork.com/#/production/substratePickAction!cuttingSpecConfigList.action', 'https://test.zxhwork.com/#/notice/orderNoticePriorityRuleAction!selectOrderNoticePriorityRuleList.action', 'https://test.zxhwork.com/#/notice/orderNoticeAction!orderNoticeStatisticsList.action', 'https://test.zxhwork.com/#/production/substratePickAction!projectMakeFileList.action', 'https://test.zxhwork.com/#/notice/orderNoticeAction!projectRewardPunishRecordList.action', 'https://test.zxhwork.com/#/notice/orderNoticeAction!projectQualityStatistic.action', 'https://test.zxhwork.com/#/notice/orderNoticeAction!projectBadScoreRecordList.action', 'https://test.zxhwork.com/#/production/substratePickAction!projectAuditList.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectFixedAssetsList.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectShowFixedAssetsDetails.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectFixedAssetsRepair.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectFixedAssetsDepreciation.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectFixedAssetsMoveRecord.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectMyFixedAssetsDetails.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectDepreciationConfig.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectFixedAssetsScrapList.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!fixedAssetsInventoryList.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!selectCurrentUserFixedAssets.action', 'https://test.zxhwork.com/#/assets/fixedAssetsAction!fixedAssetsToAddInit.action', 'https://test.zxhwork.com/#/consumer/activityAction!selectActivityList.action', 'https://test.zxhwork.com/#/consumer/couponRecordAction!selectCouponRecordList.action', 'https://test.zxhwork.com/#/consumer/couponRecordAction!selectCouponConditionList.action', 'https://test.zxhwork.com/#/consumer/orderEvaluationAction!orderEvaluationList.action', 'https://test.zxhwork.com/#/zxh-job-admin']
    for i in list:
        if i.__contains__('/#'):
            i = i.replace('/#','')
        if i.__contains__('%'):
            i = re.search('.*(?=%)',i).group()
        try:
            header = {'Accept-Language': 'zh-CN,zh;q=0.9','Content-Type':'application/x-www-form-urlencoded'}
            testdata = dict()
            testdata['url'] = i
            testdata['method'] = 'get'
            testdata['body'] = None
            testdata['headers'] = header
            testdata['params'] = None

            # 设置allure报告展示内容
            allure.dynamic.testcase(testdata['url'])

        except Exception as msg:
            pytest.fail('拼接参数失败, 错误信息: %s' % msg)

        try:
            res = send_requests(session,testdata)

        except Exception as msg:
            pytest.fail('接口请求失败, 错误信息: %s ' % msg)

        if res['text'].__contains__('程序出错'):
            print('程序出错'+i)

aaee()